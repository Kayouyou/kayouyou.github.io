<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>Enum iterations in Swift | Kayouyou&#39;s Den</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://kayouyou.github.io/favicon.ico?v=1663221960632">
<link rel="stylesheet" href="https://kayouyou.github.io/styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="éšç€æ¯ä¸€ä¸ªæ–°ç‰ˆæœ¬çš„å‘å¸ƒï¼ŒSwiftåœ¨åˆ›å»ºé€šç”¨æ ·æ¿çš„ç¼–è¯‘å™¨ç”Ÿæˆå®ç°æ–¹é¢åšå¾—è¶Šæ¥è¶Šå¥½ã€‚æœ‰äº†å¯ç¼–ç çš„ä¸€è‡´æ€§å’Œåˆæˆçš„ä¸€è‡´æ€§å’Œå¯å“ˆå¸Œï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥åˆ©ç”¨ç¼–è¯‘å™¨ï¼Œåˆ©ç”¨å®ƒå¯¹æˆ‘ä»¬çš„ç±»å‹çš„äº†è§£ï¼Œä¸ºæˆ‘ä»¬ç”Ÿæˆæ›´ä¸å®¹æ˜“å‡ºé”™çš„å®ç°ã€‚
Swift 4.2çš„ä¸€ä¸ªæ–°ç‰¹æ€§æ˜¯æ–°..." />
    <meta name="keywords" content="enums,code structure" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://kayouyou.github.io">
        <img src="https://kayouyou.github.io/images/avatar.png?v=1663221960632" class="site-logo">
        <h1 class="site-title">Kayouyou&#39;s Den</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            é¦–é¡µ
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            å½’æ¡£
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            æ ‡ç­¾
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            å…³äº
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      The wise build bridges, while the foolish build barriers.
    </div>
    <div class="site-footer">
      è±«ICPå¤‡2021012281å·-1  | <a class="rss" href="https://kayouyou.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">Enum iterations in Swift</h2>
            <div class="post-date">2018-08-26</div>
            
            <div class="post-content" v-pre>
              <p>éšç€æ¯ä¸€ä¸ªæ–°ç‰ˆæœ¬çš„å‘å¸ƒï¼ŒSwiftåœ¨åˆ›å»ºé€šç”¨æ ·æ¿çš„ç¼–è¯‘å™¨ç”Ÿæˆå®ç°æ–¹é¢åšå¾—è¶Šæ¥è¶Šå¥½ã€‚æœ‰äº†å¯ç¼–ç çš„ä¸€è‡´æ€§å’Œåˆæˆçš„ä¸€è‡´æ€§å’Œå¯å“ˆå¸Œï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥åˆ©ç”¨ç¼–è¯‘å™¨ï¼Œåˆ©ç”¨å®ƒå¯¹æˆ‘ä»¬çš„ç±»å‹çš„äº†è§£ï¼Œä¸ºæˆ‘ä»¬ç”Ÿæˆæ›´ä¸å®¹æ˜“å‡ºé”™çš„å®ç°ã€‚</p>
<p>Swift 4.2çš„ä¸€ä¸ªæ–°ç‰¹æ€§æ˜¯æ–°çš„CaseIterableåè®®ï¼Œå®ƒä½¿æˆ‘ä»¬èƒ½å¤Ÿå‘Šè¯‰ç¼–è¯‘å™¨è‡ªåŠ¨ä¸ºä»»ä½•rawrepresentationæšä¸¾åˆæˆä¸€ä¸ªallCasesé›†åˆã€‚ æœ¬å‘¨ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€äº›åœºæ™¯ç¤ºä¾‹ï¼Œåœ¨è¿™äº›åœºæ™¯ä¸­ï¼Œè¿™ä¸ªæ–°ç‰¹æ€§å¯ä»¥éå¸¸æ–¹ä¾¿åœ°ä½¿ç”¨ã€‚</p>
<h2 id="enum-dictionaries">Enum dictionaries</h2>
<p>åœ¨Swiftä¸­ï¼Œä½¿ç”¨æšä¸¾æ¥ä¸ºå­—å…¸åˆ›å»ºç±»å‹å®‰å…¨é”®æ˜¯å¾ˆå¸¸è§çš„ï¼Œæ¯”å¦‚é…ç½®å’Œé€‰é¡¹ã€‚ ç”šè‡³ä»Objective-Cè½¬æ¢è¿‡æ¥çš„ç±»ä¹Ÿå¼€å§‹é‡‡ç”¨è¿™ç§æ¨¡å¼(é€šè¿‡ä¸€äº›å·§å¦™çš„è½¬æ¢æˆç±»ä¼¼æšä¸¾çš„ç»“æ„)ï¼Œå¦‚NSAttributedString:</p>
<pre><code class="language-swift">let string = NSAttributedString(
    string: &quot;Hello, world!&quot;,
    attributes: [
        .foregroundColor: UIColor.red,
        .font: UIFont.systemFont(ofSize: 20)
    ]
)
</code></pre>
<p>è¿™ç§æ¨¡å¼çš„ä¸»è¦ä¼˜ç‚¹æ˜¯ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦ä¾èµ–äºå­—ç¬¦ä¸²å¸¸é‡æˆ–æ•´æ•°ç´¢å¼•æ¥å°†åŒ…å«é€‰é¡¹çš„å­—å…¸ä¼ é€’ç»™API -ç›¸åï¼Œæˆ‘ä»¬æœ‰ä¸€ç»„æ¸…æ™°å®šä¹‰çš„é”®ï¼Œå¯ä»¥ç”±ç¼–è¯‘å™¨è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æƒ³ä½¿ç”¨è¿™ä¸ªæ¨¡å¼ä¸ºåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„å„ç§æ–‡æœ¬æ ·å¼å®šä¹‰ä¸€ä¸ªå­—ä½“å­—å…¸â€”â€”ä»¥ä¾¿ä¸ºæ¸²æŸ“æ–‡æœ¬çš„ä»£ç çš„æ‰€æœ‰éƒ¨åˆ†æä¾›ä¸€ä¸ªå•ä¸€çš„æºã€‚æˆ‘ä»¬å¯ä»¥å…ˆå®šä¹‰ä¸€ä¸ªæšä¸¾æ¥è¡¨ç¤ºæ‰€ä½¿ç”¨çš„æ¯ç§æ–‡æœ¬ç±»å‹ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre><code class="language-swift">enum TextType {
    case title
    case subtitle
    case sectionTitle
    case body
    case comment
}
</code></pre>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸Šé¢çš„æšä¸¾æ¥åˆ›å»ºä¸€ä¸ªå­—å…¸ï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿä¸ºç»™å®šçš„TextTypeæŸ¥æ‰¾UIFontï¼Œåƒè¿™æ ·:</p>
<pre><code class="language-swift">let fonts: [TextType : UIFont] = [
    .title : .preferredFont(forTextStyle: .headline),
    .subtitle : .preferredFont(forTextStyle: .subheadline),
    .sectionTitle : .preferredFont(forTextStyle: .title2),
    .comment : .preferredFont(forTextStyle: .footnote)
]
</code></pre>
<p>ç„¶è€Œï¼Œæˆ‘ä»¬æ‰åˆšåˆšå¼€å§‹ï¼Œä½†æ˜¯æˆ‘ä»¬å·²ç»å¼•å…¥äº†ä¸€ä¸ªé”™è¯¯ğŸ˜¬ã€‚ä»”ç»†çœ‹çœ‹ä¸Šé¢çš„å­—å…¸ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å®é™…ä¸Šé”™è¿‡äº†ä¸º.body caseæ·»åŠ ä¸€ä¸ªæ¡ç›®ï¼Œç¼–è¯‘å™¨æ— æ³•å¸®åŠ©æˆ‘ä»¬æ£€æµ‹ã€‚</p>
<h2 id="caseiterable">CaseIterable</h2>
<p>ä¸åƒä¸Šé¢é‚£æ ·æ‰‹åŠ¨å®šä¹‰å­—ä½“å­—å…¸ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹Swift 4.2çš„CaseIterableå¦‚ä½•å¸®åŠ©æˆ‘ä»¬é¿å…é”™è¯¯ï¼Œå¹¶ä½¿æˆ‘ä»¬çš„ä»£ç åœ¨å®šä¹‰æšä¸¾é”®å¼å­—å…¸æ—¶æ›´åŠ ä¸€è‡´ã€‚</p>
<p>æˆ‘ä»¬å°†é¦–å…ˆä½¿TextTypeç¬¦åˆCaseIterableã€‚å°±åƒå¯ç¼–ä»£ç ã€å¯å¹³ç­‰åŒ–å’Œå¯å“ˆå¸ŒåŒ–ä¸€æ ·ï¼Œæˆ‘ä»¬è‡ªå·±ä¸éœ€è¦ç¼–å†™ä»»ä½•é¢å¤–çš„ä»£ç  -  ç›¸åï¼ŒCaseIterableå……å½“ç¼–è¯‘å™¨çš„æ ‡è®°ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨ä¸ºæˆ‘ä»¬åˆæˆä¸€ä¸ªallCasesé›†åˆ:</p>
<pre><code class="language-swift">enum TextType: CaseIterable {
    case title
    case subtitle
    case sectionTitle
    case body
    case comment
}
</code></pre>
<p>é€šè¿‡ä¸Šé¢çš„ä¿®æ”¹ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥ä½¿ç”¨TextTypeäº†ã€‚æŒ‰é¡ºåºè®¿é—®æ‰€æœ‰caseçš„é›†åˆï¼Œç„¶åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥å»ºç«‹æˆ‘ä»¬çš„å­—ä½“å­—å…¸ï¼Œè€Œä¸ä¼šæœ‰ä¸¢å¤±caseçš„é£é™©ï¼Œåƒè¿™æ ·:</p>
<pre><code class="language-swift">var fonts = [TextType : UIFont]()

for type in TextType.allCases {
    switch type {
    case .title:
        fonts[type] = .preferredFont(forTextStyle: .headline)
    case .subtitle:
        fonts[type] = .preferredFont(forTextStyle: .subheadline)
    case .sectionTitle:
        fonts[type] = .preferredFont(forTextStyle: .title2)
    case .body:
        fonts[type] = .preferredFont(forTextStyle: .body)
    case .comment:
        fonts[type] = .preferredFont(forTextStyle: .footnote)
    }
}
</code></pre>
<p>è¿™ç»å¯¹æ˜¯ä¸€ç§æ”¹è¿›ï¼Œå› ä¸ºå¦‚æœæˆ‘ä»¬ç°åœ¨æ·»åŠ ä¸€ä¸ªæ²¡æœ‰åŒ¹é…å­—ä½“å®šä¹‰çš„æ–°æ–‡æœ¬ç±»å‹â€”â€”æˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ªç¼–è¯‘å™¨é”™è¯¯ğŸ‘ã€‚</p>
<p>ç„¶è€Œï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥è¿›ä¸€æ­¥æ”¹è¿›ã€‚ä¸ä»…ä¸Šé¢çš„ä»£ç çœ‹èµ·æ¥æœ‰ç‚¹é‡å¤â€”â€”å› ä¸ºæˆ‘ä»¬å¿…é¡»å¯¹æ‰€æœ‰æƒ…å†µæ‰§è¡Œç›¸åŒçš„å­—ä½“[ç±»å‹]åˆ†é…â€”â€”è€Œä¸”æˆ‘ä»¬åœ¨è°ƒç”¨ç«™ç‚¹ä¹Ÿæœ‰ä¸€ç‚¹é—®é¢˜ã€‚</p>
<p>å› ä¸ºæˆ‘ä»¬ä½¿ç”¨å­—å…¸æ¥å­˜å‚¨å­—ä½“ï¼Œå°½ç®¡æˆ‘ä»¬ç°åœ¨ä½¿ç”¨å®Œæ•´çš„é”®ç±»å‹ï¼Œç¼–è¯‘å™¨æ— æ³•ä¿è¯æˆ‘ä»¬ä¼šä¸ºæ¯ä¸ªé”®éƒ½æœ‰ä¸€ä¸ªUIFontå€¼ã€‚ æ‰€ä»¥ï¼Œå³ä½¿æˆ‘ä»¬çŸ¥é“ä¸‹é¢çš„å†…å®¹æ€»æ˜¯éç©ºçš„ï¼Œå®ƒä»ç„¶æ˜¯å¯é€‰çš„ï¼Œå°±ç±»å‹ç³»ç»Ÿè€Œè¨€:</p>
<pre><code class="language-swift">// This will be of type UIFont?, which is not always convenient
let titleFont = fonts[.title]
</code></pre>
<p>è®©æˆ‘ä»¬çœ‹çœ‹èƒ½å¦åŒæ—¶è§£å†³ä¸Šè¿°ä¸¤ä¸ªé—®é¢˜â€”â€”ä½¿ç”¨è‡ªå®šä¹‰æ˜ å°„ç±»å‹ã€‚</p>
<h2 id="enum-maps">Enum maps</h2>
<p>æˆ‘ä»¬çš„æ˜ å°„ç±»å‹æœ¬è´¨ä¸Šæ˜¯å¯¹ä¸Šé¢å†™çš„ä»£ç çš„è–„åŒ…è£…ï¼Œä½†ä¸å¿…åœ¨è°ƒç”¨ç«™ç‚¹å»ºç«‹ä¸€ä¸ªå€¼å­—å…¸ï¼Œæˆ‘ä»¬åªéœ€å°†ä¸€ä¸ªresolveré—­åŒ…ä¼ é€’ç»™æˆ‘ä»¬çš„mapç±»å‹â€”â€”ç„¶åå®ƒå°†ä½¿ç”¨è¿™ä¸ªé—­åŒ…éå†æ‰€æœ‰çš„æƒ…å†µï¼Œå¹¶å»ºç«‹æˆ‘ä»¬çš„å€¼é›†åˆï¼Œå°±åƒè¿™æ ·:</p>
<pre><code class="language-swift">struct EnumMap&lt;Enum: CaseIterable &amp; Hashable, Value&gt; {
    private let values: [Enum : Value]

    init(resolver: (Enum) -&gt; Value) {
        var values = [Enum : Value]()

        for key in Enum.allCases {
            values[key] = resolver(key)
        }

        self.values = values
    }

    subscript(key: Enum) -&gt; Value {
        // Here we have to force-unwrap, since there's no way
        // of telling the compiler that a value will always exist
        // for any given key. However, since it's kept private
        // it should be fine - and we can always add tests to
        // make sure things stay safe.
        return values[key]!
    }
}
</code></pre>
<p>æˆ‘ä»¬è¿˜å¯ä»¥è®©EnumMapå­˜å‚¨å®ƒçš„è§£æå™¨é—­åŒ…ï¼Œå¹¶åœ¨è¯·æ±‚å€¼æ—¶å»¶è¿Ÿæ‰§è¡Œå®ƒï¼Œä½†è¿™è¦ä¹ˆè¦æ±‚å®ƒæ˜¯ä¸€ä¸ªç±» - å› ä¸ºå®ƒéœ€è¦è¢«æ”¹å˜-æˆ–è€…åœ¨æ¯æ¬¡è°ƒç”¨ä¸‹æ ‡æ—¶åˆ›å»ºä¸€ä¸ªæ–°å€¼ã€‚é€šè¿‡ä½¿å®ƒæˆä¸ºä¸€ä¸ªä¸å¯å˜çš„ç»“æ„ä½“ï¼ŒæŸ¥æ‰¾å°†ä¼šéå¸¸å¿«â€”â€”å³ä½¿åœ¨åˆ›å»ºå®ƒæ—¶éœ€è¦è¿›è¡Œå®Œæ•´çš„O(n)è¿­ä»£ã€‚</p>
<p>æœ‰äº†æ–°çš„EnumMapï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥ç”¨ä¸€ä¸ªéå¸¸æ¼‚äº®çš„åŸºäºé—­åŒ…çš„ç»“å°¾è¯­æ³•ç®€å•åœ°å®šä¹‰å­—ä½“é›†åˆ:</p>
<pre><code class="language-swift">let fonts = EnumMap&lt;TextType, UIFont&gt; { type in
    switch type {
    case .title:
        return .preferredFont(forTextStyle: .headline)
    case .subtitle:
        return .preferredFont(forTextStyle: .subheadline)
    case .sectionTitle:
        return .preferredFont(forTextStyle: .title2)
    case .body:
        return .preferredFont(forTextStyle: .body)
    case .comment:
        return .preferredFont(forTextStyle: .footnote)
    }
}
</code></pre>
<p>æ›´å¥½çš„æ˜¯ï¼Œæˆ‘ä»¬æ‰€æœ‰çš„å­—ä½“æŸ¥æ‰¾ä»ç„¶å¯ä»¥ä½¿ç”¨å®Œå…¨ç›¸åŒçš„ä¸‹æ ‡è¯­æ³•ï¼Œä½†ç°åœ¨ç»“æœæ˜¯éå¯é€‰çš„UIFontå€¼:</p>
<pre><code class="language-swift">let titleFont = fonts[.title]
let subtitleFont = fonts[.subtitle]
</code></pre>
<p>ç”±äºæˆ‘ä»¬å°†EnumMapè®¾ä¸ºæ³›å‹ï¼Œå®ƒç°åœ¨ä¹Ÿå¯ä»¥åœ¨è®¸å¤šä¸åŒçš„åœ°æ–¹ä½¿ç”¨ï¼Œå½“æˆ‘ä»¬æƒ³è¦åœ¨enumå’Œä¸€ç»„å€¼ä¹‹é—´åˆ›å»ºæ˜ å°„æ—¶â€”â€”è€Œä¸éœ€è¦å¤„ç†ä»»ä½•å¯é€‰çš„ğŸ‘ã€‚</p>
<h2 id="many-cases-for-iterations">Many cases for iterations</h2>
<p>ä¹‹æ‰€ä»¥å°†CaseIterableæ·»åŠ åˆ°Swift 4.2ä¸­ï¼Œæ˜¯å› ä¸ºåœ¨å¾ˆå¤šæƒ…å†µä¸‹éå†æšä¸¾çš„æ‰€æœ‰æƒ…å†µéƒ½æ˜¯éå¸¸æœ‰ç”¨çš„æ“ä½œã€‚ è®©æˆ‘ä»¬çœ‹å¦ä¸€ä¸ªä¾‹å­ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨enumæ¥å®šä¹‰åŸºäºUITableViewçš„è§†å›¾æ§åˆ¶å™¨çš„å„ä¸ªéƒ¨åˆ†:</p>
<pre><code class="language-swift">extension ProductListViewController {
    enum Section: String, CaseIterable {
        case featured
        case onSale
        case categories
        case saved
    }
}
</code></pre>
<p>å½“ä½¿ç”¨ä¸€ä¸ªUITableViewæœ‰å‡ ä¸ªä¸åŒçš„section(åƒè¿™ä¸ª)æ—¶ï¼Œä¸€ä¸ªå¸¸è§çš„æ ·æ¿æºæ˜¯ä¸ºæ¯ä¸ªsectionæ³¨å†Œå•å…ƒç±»ã€‚å°±åƒæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªä¾‹å­ï¼Œå½“å¾ˆå®¹æ˜“å› ä¸ºç¼ºå°‘å­—ä½“è€Œå¯¼è‡´é”™è¯¯æ—¶ï¼Œ åŒæ ·å¾ˆå®¹æ˜“é”™è¿‡ä¸ºç»™å®šçš„èŠ‚æ ‡è¯†ç¬¦æ³¨å†Œå•å…ƒç±»â€”â€”è¿™(æ­£å¦‚æˆ‘ä»¬å¤§å¤šæ•°äººç»å†è¿‡çš„é‚£æ ·)ä¼šå¯¼è‡´è¿è¡Œæ—¶å´©æºƒã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹CaseIterableå¦‚ä½•å¸®åŠ©æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å°±åƒæˆ‘ä»¬å®ç°ä¸Šé¢çš„EnumMapä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªè§£æå™¨é—­åŒ…ï¼Œå°†ç»™å®šçš„sectionè½¬æ¢æˆUITableViewCellç±»ï¼Œç„¶åä½¿ç”¨Section.allCasesä¸ºæ¯ä¸ªsectionæ³¨å†Œè§£æåçš„ç±»-åƒè¿™æ ·:</p>
<pre><code class="language-swift">extension ProductListViewController {
    func registerCellClasses() {
        let resolver: (Section) -&gt; UITableViewCell.Type = { section in
            switch section {
            case .featured:
                return FeaturedProductCell.self
            case .onSale:
                return ProductCell.self
            case .categories:
                return CategoryCell.self
            case .saved:
                return BookmarkCell.self
            }
        }

        for section in Section.allCases {
            tableView.register(resolver(section),
                               forCellReuseIdentifier: section.rawValue)
        }
    }
}
</code></pre>
<p>è¿™å¾ˆå¥½ï¼Œä½†æˆ‘ä»¬å¯èƒ½éœ€è¦åœ¨ä»£ç åº“çš„è®¸å¤šä¸åŒéƒ¨åˆ†æ‰§è¡Œç±»ä¼¼çš„UITableViewç±»æ³¨å†Œâ€”â€”æ‰€ä»¥æˆ‘ä»¬å¯èƒ½æƒ³è¦å°†æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆä¸€èˆ¬åŒ–ï¼Œä½¿å…¶æ˜“äºé‡ç”¨ã€‚å¥½æ¶ˆæ¯æ˜¯ï¼Œä¸Šé¢çš„ä»£ç å¹¶ä¸éœ€è¦çŸ¥é“å…·ä½“çš„Sectionç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°å°†å®ƒç§»åŠ¨åˆ°UITableViewæœ¬èº«çš„æ‰©å±•ä¸­â€”â€”åƒè¿™æ ·:</p>
<pre><code class="language-swift">extension UITableView {
    func registerCellClasses&lt;T: CaseIterable &amp; RawRepresentable&gt;(
        for sectionType: T.Type,
        using resolver: (T) -&gt; UITableViewCell.Type
    ) where T.RawValue == String {
        for section in sectionType.allCases {
            register(resolver(section), forCellReuseIdentifier: section.rawValue)
        }
    }
}
</code></pre>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰äº†ä¸€ä¸ªç¼–è¯‘æ—¶çš„ä¿è¯ï¼Œæ‰€æœ‰çš„å•å…ƒæ ¼ç±»éƒ½æ³¨å†Œäº†â€”å¹¶ä¸”æˆ‘ä»¬å°‘äº†ä¸€ä¸ªéœ€è¦æ‹…å¿ƒçš„æ½œåœ¨å´©æºƒğŸ‰</p>
<h2 id="conclusion">Conclusion</h2>
<p>Swift 4.2æ˜¯Swiftå‘å‰è¿ˆå‡ºçš„åˆä¸€å¤§æ­¥ï¼Œå®ƒå‡å°‘äº†æ ·æ¿æ–‡ä»¶ï¼Œå¹¶ä¸ºæ‰‹å·¥ç¼–å†™æ—¶å¾ˆå®¹æ˜“å‡ºé”™çš„å¸¸è§ä»»åŠ¡æä¾›äº†ç¼–è¯‘å™¨ç”Ÿæˆçš„å®ç°ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåˆ©ç”¨ç¼–è¯‘å™¨åŠ¨æ€ç”Ÿæˆå®ç°æ˜¯Swiftå¼¥è¡¥å…¶ç›®å‰ç¼ºä¹çš„åŠ¨æ€è¿è¡Œæ—¶ç‰¹æ€§(å¦‚å…¨åŠŸèƒ½çš„åå°„API)çš„å¥½æ–¹æ³•ã€‚</p>
<p>å½“ç„¶è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„æ–¹æ³•æ¥è§£å†³æˆ‘ä»¬åœ¨è¿™ç¯‡æ–‡ç« ä¸­çœ‹åˆ°çš„é—®é¢˜â€”â€”å¸¦æˆ–ä¸å¸¦æšä¸¾â€”â€”ä½†æ˜¯CaseIterableç¡®å®ä¸ºä¸€äº›æœ‰è¶£çš„æ–°æšä¸¾ç”¨ä¾‹æ‰“å¼€äº†ä¸€é—¨ï¼Œç»“åˆè¯¦å°½çš„(é»˜è®¤å…è´¹çš„)switchè¯­å¥ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥ä½¿ç”¨enumä¸ºè®¸å¤šä¸åŒçš„æ“ä½œæ·»åŠ é¢å¤–çš„ç¼–è¯‘æ—¶å®‰å…¨æ€§ã€‚</p>
<p><a href="https://www.swiftbysundell.com/articles/enum-iterations-in-swift-42/">åŸæ–‡é“¾æ¥</a></p>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://kayouyou.github.io/tag/5CEvLT7HIN/" class="tag">
                    enums
                  </a>
                
                  <a href="https://kayouyou.github.io/tag/Z107CQRlK/" class="tag">
                    code structure
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">ä¸‹ä¸€ç¯‡</div>
                <a href="https://kayouyou.github.io/post/model-controllers-in-swift/">
                  <h3 class="post-title">
                    Model controllers in Swift
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>


  <script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.6.0/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad()
  </script>





  </body>
</html>
