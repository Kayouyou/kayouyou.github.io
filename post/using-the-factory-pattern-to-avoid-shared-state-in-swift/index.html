<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>Using the factory pattern to avoid shared state in Swift | Kayouyou&#39;s Den</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://kayouyou.github.io/favicon.ico?v=1679904102931">
<link rel="stylesheet" href="https://kayouyou.github.io/styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="å…±äº«çŠ¶æ€æ˜¯å¤§å¤šæ•°åº”ç”¨ç¨‹åºä¸­å¸¸è§çš„bugæ¥æºã€‚å½“æ‚¨(å¶ç„¶åœ°æˆ–æ•…æ„åœ°)æœ‰ä¸€ä¸ªç³»ç»Ÿçš„å¤šä¸ªéƒ¨åˆ†ä¾èµ–äºç›¸åŒçš„å¯å˜çŠ¶æ€æ—¶ï¼Œå°±ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚ æŒ‘æˆ˜(å’Œbug)é€šå¸¸æ¥è‡ªäºä¸èƒ½åœ¨æ•´ä¸ªç³»ç»Ÿä¸­æ­£ç¡®åœ°å¤„ç†å¯¹è¿™ç§çŠ¶æ€çš„æ›´æ”¹ã€‚
æœ¬å‘¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åœ¨è®¸å¤šæƒ…å†µä¸‹é¿å…å…±..." />
    <meta name="keywords" content="state management,the factory pattern,architecture" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://kayouyou.github.io">
        <img src="https://kayouyou.github.io/images/avatar.png?v=1679904102931" class="site-logo">
        <h1 class="site-title">Kayouyou&#39;s Den</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            é¦–é¡µ
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            å½’æ¡£
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            æ ‡ç­¾
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            å…³äº
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      The wise build bridges, while the foolish build barriers.
    </div>
    <div class="site-footer">
       <a href="https://beian.miit.gov.cn/">è±«ICPå¤‡2021012281å·-1</a> | <a class="rss" href="https://kayouyou.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">Using the factory pattern to avoid shared state in Swift</h2>
            <div class="post-date">2017-09-03</div>
            
            <div class="post-content" v-pre>
              <p>å…±äº«çŠ¶æ€æ˜¯å¤§å¤šæ•°åº”ç”¨ç¨‹åºä¸­å¸¸è§çš„bugæ¥æºã€‚å½“æ‚¨(å¶ç„¶åœ°æˆ–æ•…æ„åœ°)æœ‰ä¸€ä¸ªç³»ç»Ÿçš„å¤šä¸ªéƒ¨åˆ†ä¾èµ–äºç›¸åŒçš„å¯å˜çŠ¶æ€æ—¶ï¼Œå°±ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚ æŒ‘æˆ˜(å’Œbug)é€šå¸¸æ¥è‡ªäºä¸èƒ½åœ¨æ•´ä¸ªç³»ç»Ÿä¸­æ­£ç¡®åœ°å¤„ç†å¯¹è¿™ç§çŠ¶æ€çš„æ›´æ”¹ã€‚</p>
<p>æœ¬å‘¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åœ¨è®¸å¤šæƒ…å†µä¸‹é¿å…å…±äº«çŠ¶æ€ï¼Œæ–¹æ³•æ˜¯ä½¿ç”¨å·¥å‚æ¨¡å¼åˆ›å»ºæ¸…æ™°åˆ†ç¦»çš„å®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹ç®¡ç†è‡ªå·±çš„çŠ¶æ€ã€‚</p>
<h2 id="the-problem">The problem</h2>
<p>å‡è®¾æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåŒ…å«ä¸€ä¸ªè¯·æ±‚ç±»ï¼Œç”¨äºæ‰§è¡Œå¯¹æˆ‘ä»¬çš„åç«¯è¯·æ±‚ã€‚å®ƒçš„å®ç°æ˜¯è¿™æ ·çš„:</p>
<pre><code class="language-swift">class Request {
    enum State {
        case pending
        case ongoing
        case completed(Result)
    }

    let url: URL
    let parameters: [String : String]
    fileprivate(set) var state = State.pending

    init(url: URL, parameters: [String : String] = [:]) {
        self.url = url
        self.parameters = parameters
    }
}
</code></pre>
<p>ç„¶åæˆ‘ä»¬æœ‰ä¸€ä¸ªDataLoaderç±»ï¼Œè¯·æ±‚å¯ä»¥é€šè¿‡å®ƒæ¥æ‰§è¡Œï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre><code class="language-swift">dataLoader.perform(request) { result in
    // Handle result
}
</code></pre>
<p>é‚£ä¹ˆï¼Œä¸Šé¢çš„è®¾ç½®æœ‰ä»€ä¹ˆé—®é¢˜å‘¢? ç”±äºRequestä¸ä»…åŒ…å«å…³äºåº”è¯¥åœ¨ä½•å¤„å’Œå¦‚ä½•æ‰§è¡Œè¯·æ±‚çš„ä¿¡æ¯ï¼Œè€Œä¸”è¿˜åŒ…å«è¯·æ±‚çš„çŠ¶æ€ï¼Œå› æ­¤æˆ‘ä»¬å¾ˆå®¹æ˜“æ„å¤–åœ°å…±äº«çŠ¶æ€ã€‚</p>
<p>ä¸ç†Ÿæ‚‰Requestå®ç°ç»†èŠ‚çš„å¼€å‘äººå‘˜å¯èƒ½ä¼šå‡è®¾å®ƒæ˜¯ä¸€ä¸ªç®€å•çš„å€¼ç±»å‹(çœ‹èµ·æ¥è‚¯å®šæ˜¯è¿™æ ·çš„)ï¼Œå¯ä»¥é‡ç”¨ï¼Œåƒè¿™æ ·:</p>
<pre><code class="language-swift">class TodoListViewController: UIViewController {
    private let request = Request(url: .todoList)
    private let dataLoader = DataLoader()

    func loadItems() {
        dataLoader.perform(request) { [weak self] result in
            self?.render(result)
        }
    }
}
</code></pre>
<p>ä½¿ç”¨ä¸Šè¿°è®¾ç½®ï¼Œå½“åœ¨ä¸€ä¸ªæŒ‚èµ·çš„è¯·æ±‚å®Œæˆä¹‹å‰å¤šæ¬¡è°ƒç”¨loadItemsæ—¶ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“é™·å…¥æœªå®šä¹‰çš„æƒ…å†µ(ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯èƒ½åŒ…æ‹¬ä¸€ä¸ªæœç´¢æ§ä»¶ï¼Œæˆ–è€…ä¸€ä¸ªä¸‹æ‹‰åˆ·æ–°æœºåˆ¶ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´è®¸å¤šè¯·æ±‚)ã€‚å› ä¸ºæ‰€æœ‰çš„è¯·æ±‚éƒ½æ˜¯ä½¿ç”¨åŒä¸€ä¸ªå®ä¾‹æ‰§è¡Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†ä¸æ–­é‡ç½®å®ƒçš„çŠ¶æ€ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬çš„æ•°æ®åŠ è½½å™¨éå¸¸å›°æƒ‘ğŸ˜¬ã€‚</p>
<p>è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ç§æ–¹æ³•æ˜¯åœ¨æ‰§è¡Œæ–°è¯·æ±‚æ—¶è‡ªåŠ¨å–æ¶ˆæ¯ä¸ªæŒ‚èµ·çš„è¯·æ±‚ã€‚è™½ç„¶è¿™å¯èƒ½è§£å†³æˆ‘ä»¬çœ¼å‰çš„é—®é¢˜ï¼Œä½†å®ƒè‚¯å®šä¼šå¯¼è‡´å…¶ä»–é—®é¢˜ï¼Œå¹¶ä½¿APIå˜å¾—æ›´åŠ ä¸å¯é¢„æµ‹å’Œéš¾ä»¥ä½¿ç”¨ã€‚</p>
<h2 id="factory-methods">Factory methods</h2>
<p>ç›¸åï¼Œè®©æˆ‘ä»¬ä½¿ç”¨å¦ä¸€ç§æŠ€æœ¯æ¥è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œå³ä½¿ç”¨å·¥å‚æ–¹æ³•æ¥é¿å…å°†è¯·æ±‚çš„çŠ¶æ€ä¸åŸå§‹è¯·æ±‚æœ¬èº«å…³è”èµ·æ¥ã€‚åœ¨é¿å…å…±äº«çŠ¶æ€æ—¶ï¼Œè¿™ç§è§£è€¦é€šå¸¸æ˜¯å¿…éœ€çš„ï¼Œè€Œä¸”é€šå¸¸æ˜¯åˆ›å»ºæ›´å¯é¢„æµ‹ä»£ç çš„è‰¯å¥½å®è·µã€‚</p>
<p>é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•é‡æ„Requestæ¥ä½¿ç”¨å·¥å‚æ–¹æ³•å‘¢? æˆ‘ä»¬å°†ä»å¼•å…¥ä¸€ä¸ªStatefulRequestç±»å‹å¼€å§‹ï¼Œå®ƒæ˜¯Requestçš„ä¸€ä¸ªå­ç±»ï¼Œå¹¶å°†çŠ¶æ€ä¿¡æ¯ç§»åŠ¨åˆ°å®ƒä¸Šé¢ï¼Œåƒè¿™æ ·:</p>
<pre><code class="language-swift">// Our Request class remains the same, minus the statefulness
class Request {
    let url: URL
    let parameters: [String : String]

    init(url: URL, parameters: [String : String] = [:]) {
        self.url = url
        self.parameters = parameters
    }
}

// We introduce a stateful type, which is private to our networking code
private class StatefulRequest: Request {
    enum State {
        case pending
        case ongoing
        case completed(Result)
    }

    var state = State.pending
}
</code></pre>
<p>ç„¶åï¼Œæˆ‘ä»¬å°†ä¸ºRequestæ·»åŠ ä¸€ä¸ªå·¥å‚æ–¹æ³•ï¼Œè®©æˆ‘ä»¬å¯ä»¥æ„é€ ä¸€ä¸ªå·²ä¼ é€’è¯·æ±‚çš„æœ‰çŠ¶æ€ç‰ˆæœ¬:</p>
<pre><code class="language-swift">private extension Request {
    func makeStateful() -&gt; StatefulRequest {
        return StatefulRequest(url: url, parameters: parameters)
    }
}
</code></pre>
<p>æœ€åï¼Œå½“æ•°æ®åŠ è½½å™¨å¼€å§‹æ‰§è¡Œè¯·æ±‚æ—¶ï¼Œæˆ‘ä»¬åªéœ€è®©å®ƒæ¯æ¬¡æ„é€ ä¸€ä¸ªæ–°çš„StatefulRequest:</p>
<pre><code class="language-swift">class DataLoader {
    func perform(_ request: Request) {
        perform(request.makeStateful())
    }

    private func perform(_ request: StatefulRequest) {
        // Actually perform the request
        ...
    }
}
</code></pre>
<p>æ¯æ¬¡æ‰§è¡Œè¯·æ±‚æ—¶æ€»æ˜¯åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹ï¼Œè¿™æ ·æˆ‘ä»¬å°±æ¶ˆé™¤äº†å…±äº«å…¶çŠ¶æ€çš„æ‰€æœ‰å¯èƒ½æ€§ğŸ‘ã€‚</p>
<h2 id="a-standard-pattern">A standard pattern</h2>
<p>ä½œä¸ºä¸€ä¸ªç®€å•çš„åˆ‡çº¿ï¼Œè¿™å®é™…ä¸Šæ˜¯åœ¨Swiftä¸­è¿­ä»£åºåˆ—æ—¶ä½¿ç”¨çš„å®Œå…¨ç›¸åŒçš„æ¨¡å¼ã€‚ä¸æ˜¯å…±äº«è¿­ä»£çŠ¶æ€(ä¾‹å¦‚å“ªä¸ªå…ƒç´ æ˜¯å½“å‰å…ƒç´ )ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨æ¥ä¿å­˜æ¯æ¬¡è¿­ä»£çš„è¿™ç§çŠ¶æ€ã€‚æ‰€ä»¥å½“ä½ è¾“å…¥è¿™æ ·çš„ä¸œè¥¿:</p>
<pre><code class="language-swift">for book in books {
    ...
}
</code></pre>
<p>åœ¨åº•å±‚å‘ç”Ÿçš„äº‹æƒ…æ˜¯Swiftè°ƒç”¨books.makeIterator()ï¼Œå®ƒæ ¹æ®é›†åˆç±»å‹è¿”å›é€‚å½“çš„è¿­ä»£å™¨ã€‚ æˆ‘ä»¬å°†åœ¨æ¥ä¸‹æ¥çš„å¸–å­ä¸­æ›´å¤šåœ°äº†è§£é›†åˆä»¥åŠå®ƒä»¬æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p>
<h2 id="factories">Factories</h2>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦ä¸€ç§æƒ…å†µï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå·¥å‚æ¨¡å¼å¯ä»¥ä½¿ç”¨å·¥å‚ç±»å‹æ¥é¿å…å…±äº«çŠ¶æ€ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æ­£åœ¨æ„å»ºä¸€ä¸ªå…³äºç”µå½±çš„åº”ç”¨ç¨‹åºï¼Œç”¨æˆ·å¯ä»¥æŒ‰ç…§ç±»åˆ«åˆ—å‡ºç”µå½±ï¼Œæˆ–è€…é€šè¿‡è·å¾—æ¨èã€‚æˆ‘ä»¬å°†ä¸ºæ¯ä¸ªç”¨ä¾‹æä¾›ä¸€ä¸ªè§†å›¾æ§åˆ¶å™¨ï¼Œå®ƒä»¬éƒ½ä½¿ç”¨ä¸€ä¸ªå•ä¾‹MovieLoaderæ¥æ‰§è¡Œé’ˆå¯¹åç«¯çš„è¯·æ±‚ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre><code class="language-swift">class CategoryViewController: UIViewController {
    // We paginate our view using section indexes, so that we
    // don't have to load all data at once
    func loadMovies(atSectionIndex sectionIndex: Int) {
        MovieLoader.shared.loadMovies(in: category, sectionIndex: sectionIndex) {
            [weak self] result in
            self?.render(result)
        }
    }
}
</code></pre>
<p>ä»¥è¿™ç§æ–¹å¼ä½¿ç”¨å•ä¾‹å¯èƒ½ä¸€å¼€å§‹å¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜(è¿™ä¹Ÿå¾ˆå¸¸è§)ï¼Œä½†å¦‚æœç”¨æˆ·å¼€å§‹æµè§ˆæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„é€Ÿåº¦æ¯”è¯·æ±‚å®Œæˆçš„é€Ÿåº¦å¿«ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šåœ¨ç›¸å½“æ£˜æ‰‹çš„æƒ…å†µä¸‹ç»“æŸã€‚æˆ‘ä»¬å¯èƒ½ä¼šä»¥ä¸€ä¸ªé•¿é•¿çš„æœªå®Œæˆè¯·æ±‚é˜Ÿåˆ—ç»“æŸï¼Œè¿™å¯èƒ½ä¼šä½¿åº”ç”¨ç¨‹åºä½¿ç”¨èµ·æ¥éå¸¸ç¼“æ…¢â€”â€”ç‰¹åˆ«æ˜¯åœ¨æ¶åŠ£çš„ç½‘ç»œæ¡ä»¶ä¸‹ã€‚</p>
<p>æˆ‘ä»¬åœ¨è¿™é‡Œé¢ä¸´çš„æ˜¯å¦ä¸€ä¸ªé—®é¢˜ï¼Œè¿™æ˜¯å…±äº«çŠ¶æ€(åœ¨æœ¬ä¾‹ä¸­æ˜¯åŠ è½½é˜Ÿåˆ—)çš„ç»“æœ</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°†ä¸ºæ¯ä¸ªè§†å›¾æ§åˆ¶å™¨ä½¿ç”¨ä¸€ä¸ªæ–°çš„MovieLoaderå®ä¾‹ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°è®©æ¯ä¸ªåŠ è½½å™¨åœ¨è¢«é‡Šæ”¾æ—¶å–æ¶ˆæ‰€æœ‰æŒ‚èµ·çš„è¯·æ±‚ï¼Œè¿™æ ·é˜Ÿåˆ—ä¸­å°±ä¸ä¼šå……æ»¡æˆ‘ä»¬ä¸å†æ„Ÿå…´è¶£çš„è¯·æ±‚:</p>
<pre><code class="language-swift">class MovieLoader {
    deinit {
        cancelAllRequests()
    }
}
</code></pre>
<p>ä¸è¿‡ï¼Œæˆ‘ä»¬å¹¶ä¸æƒ³åœ¨æ¯æ¬¡åˆ›å»ºè§†å›¾æ§åˆ¶å™¨æ—¶éƒ½è¦æ‰‹åŠ¨åˆ›å»ºMovieLoaderçš„æ–°å®ä¾‹ã€‚æˆ‘ä»¬å¯èƒ½éœ€è¦æ³¨å…¥ç¼“å­˜ï¼ŒURLä¼šè¯ï¼Œä»¥åŠå…¶ä»–æˆ‘ä»¬éœ€è¦åœ¨è§†å›¾æ§åˆ¶å™¨ä¹‹é—´ä¼ é€’çš„ä¸œè¥¿ã€‚å¬èµ·æ¥å¾ˆä¹±ï¼Œæˆ‘ä»¬è¿˜æ˜¯ç”¨å·¥å‚å§!</p>
<pre><code class="language-swift">class MovieLoaderFactory {
    private let cache: Cache
    private let session: URLSession

    // We can have the factory contain references to underlying dependencies,
    // so that we don't have to expose those details to each view controller
    init(cache: Cache, session: URLSession) {
        self.cache = cache
        self.session = session
    }

    func makeLoader() -&gt; MovieLoader {
        return MovieLoader(cache: cache, session: session)
    }
}
</code></pre>
<p>ç„¶åï¼Œæˆ‘ä»¬ç”¨MovieLoaderFactoryæ¥åˆå§‹åŒ–æˆ‘ä»¬çš„æ¯ä¸ªè§†å›¾æ§åˆ¶å™¨ï¼Œä¸€æ—¦å®ƒéœ€è¦ä¸€ä¸ªåŠ è½½å™¨ï¼Œå®ƒå°±ä¼šæƒ°æ€§åœ°ä½¿ç”¨è¿™ä¸ªå·¥å‚æ¥åˆ›å»ºä¸€ä¸ªã€‚æ˜¯è¿™æ ·çš„:</p>
<pre><code class="language-swift">class CategoryViewController: UIViewController {
    private let loaderFactory: MovieLoaderFactory
    private lazy var loader: MovieLoader = self.loaderFactory.makeLoader()

    init(loaderFactory: MovieLoaderFactory) {
        self.loaderFactory = loaderFactory
        super.init(nibName: nil, bundle: nil)
    }

    private func openRecommendations(forMovie movie: Movie) {
        let viewController = RecommendationsViewController(
            movie: movie,
            loaderFactory: loaderFactory
        )

        navigationController?.pushViewController(viewController, animated: true)
    }
}
</code></pre>
<p>æ­£å¦‚ä½ åœ¨ä¸Šé¢çœ‹åˆ°çš„ï¼Œåœ¨è¿™é‡Œä½¿ç”¨å·¥å‚æ¨¡å¼çš„ä¸€å¤§ä¼˜ç‚¹æ˜¯æˆ‘ä»¬å¯ä»¥ç®€å•åœ°å°†å·¥å‚ä¼ é€’ç»™ä»»ä½•åç»­çš„è§†å›¾æ§åˆ¶å™¨ã€‚æˆ‘ä»¬é¿å…äº†å…±äº«çŠ¶æ€ï¼Œå¹¶ä¸”æˆ‘ä»¬ä¸ä¼šå› ä¸ºå¿…é¡»åœ¨å‘¨å›´ä¼ é€’å¤šä¸ªä¾èµ–é¡¹è€Œå¼•å…¥æ›´å¤šçš„å¤æ‚æ€§ã€‚</p>
<h2 id="conclusion">Conclusion</h2>
<p>æ— è®ºæ˜¯åœ¨çŠ¶æ€æ–¹é¢è¿˜æ˜¯åœ¨åˆ›å»ºæ›´å¥½çš„å…³æ³¨ç‚¹åˆ†ç¦»æ–¹é¢ï¼Œå·¥å‚éƒ½æ˜¯è§£è€¦ä»£ç çš„ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å·¥å…·ã€‚é€šè¿‡æ€»æ˜¯åˆ›å»ºæ–°çš„å®ä¾‹ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°é¿å…å…±äº«çŠ¶æ€ï¼Œè€Œå·¥å‚æ˜¯å°è£…æ­¤ç±»å®ä¾‹åˆ›å»ºçš„ä¸€ç§éå¸¸å¥½çš„æ–¹å¼ã€‚</p>
<p>æˆ‘ä»¬å°†åœ¨åé¢çš„å¸–å­ä¸­é‡æ–°è®¨è®ºå·¥å‚æ¨¡å¼ï¼Œçœ‹çœ‹å¦‚ä½•ç”¨å®ƒæ¥è§£å†³å…¶ä»–ç±»å‹çš„é—®é¢˜ã€‚</p>
<p><a href="https://www.swiftbysundell.com/articles/using-the-factory-pattern-to-avoid-shared-state-in-swift/?rq=factories">åŸæ–‡é“¾æ¥</a></p>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://kayouyou.github.io/tag/EWN51MbzW/" class="tag">
                    state management
                  </a>
                
                  <a href="https://kayouyou.github.io/tag/r9ICJ5fqlq/" class="tag">
                    the factory pattern
                  </a>
                
                  <a href="https://kayouyou.github.io/tag/8qZG0_WaL/" class="tag">
                    architecture
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">ä¸‹ä¸€ç¯‡</div>
                <a href="https://kayouyou.github.io/post/core-animation-gems-using-replicator-layers-in-swift/">
                  <h3 class="post-title">
                    Core Animation gems - Using replicator layers in Swift
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>


  <script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.6.0/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad()
  </script>





  </body>
</html>
