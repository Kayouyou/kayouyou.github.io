<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>Building a declarative animation framework in Swift - Part 2 | Kayouyou&#39;s Den</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://kayouyou.github.io/favicon.ico?v=1653141457723">
<link rel="stylesheet" href="https://kayouyou.github.io/styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="æœ¬å‘¨ï¼Œè®©æˆ‘ä»¬å®Œæˆä¸Šå‘¨å¼€å§‹çš„åŠ¨ç”»æ¡†æ¶çš„æ„å»º!  æ€»è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ„å»ºä¸€ä¸ªå£°æ˜æ€§APIï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡é¢„å…ˆå®šä¹‰çš„ä¸€ç³»åˆ—æ“ä½œ(è€Œä¸æ˜¯å†…è”åµŒå¥—çš„åŠ¨ç”»é—­åŒ…)æ¸…æ™°åœ°è¡¨è¾¾åŠ¨ç”»ã€‚
ä»ä¸Šå‘¨å¼€å§‹ï¼Œæˆ‘ä»¬çš„APIå·²ç»å¯ä»¥åœ¨å•ä¸ªè§†å›¾ä¸Šè¿è¡ŒåŠ¨ç”»äº†ã€‚è™½ç„¶è¿™å¯èƒ½æ¶µç›–..." />
    <meta name="keywords" content="declarative programming,animations" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://kayouyou.github.io">
        <img src="https://kayouyou.github.io/images/avatar.png?v=1653141457723" class="site-logo">
        <h1 class="site-title">Kayouyou&#39;s Den</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            é¦–é¡µ
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            å½’æ¡£
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            æ ‡ç­¾
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            å…³äº
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      The wise build bridges, while the foolish build barriers.
    </div>
    <div class="site-footer">
      è±«ICPå¤‡2021012281å·-1  | <a class="rss" href="https://kayouyou.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">Building a declarative animation framework in Swift - Part 2</h2>
            <div class="post-date">2017-07-30</div>
            
            <div class="post-content" v-pre>
              <p>æœ¬å‘¨ï¼Œè®©æˆ‘ä»¬å®Œæˆä¸Šå‘¨å¼€å§‹çš„åŠ¨ç”»æ¡†æ¶çš„æ„å»º!  æ€»è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ„å»ºä¸€ä¸ªå£°æ˜æ€§APIï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡é¢„å…ˆå®šä¹‰çš„ä¸€ç³»åˆ—æ“ä½œ(è€Œä¸æ˜¯å†…è”åµŒå¥—çš„åŠ¨ç”»é—­åŒ…)æ¸…æ™°åœ°è¡¨è¾¾åŠ¨ç”»ã€‚</p>
<p>ä»ä¸Šå‘¨å¼€å§‹ï¼Œæˆ‘ä»¬çš„APIå·²ç»å¯ä»¥åœ¨å•ä¸ªè§†å›¾ä¸Šè¿è¡ŒåŠ¨ç”»äº†ã€‚è™½ç„¶è¿™å¯èƒ½æ¶µç›–äº†æˆ‘ä»¬çš„å¾ˆå¤šç”¨ä¾‹ï¼Œä½†æœ‰ä¸€ä»¶äº‹æ˜¯ç¼ºå°‘äº†åè°ƒåœ¨å¤šä¸ªè§†å›¾ä¸Šæ‰§è¡ŒåŠ¨ç”»çš„èƒ½åŠ›ã€‚</p>
<p>è®©æˆ‘ä»¬è¯´æˆ‘ä»¬æƒ³è¦åŠ¨ç”»ä¸€ä¸ªåºåˆ—ï¼Œé¦–å…ˆä¸€ä¸ªæ ‡ç­¾æ·¡å…¥ï¼Œç„¶åç¨å¾®å‘ä¸Šç§»åŠ¨ï¼Œç„¶åæœ€åä¸€ä¸ªæŒ‰é’®ä¹Ÿæ·¡å…¥ï¼Œåƒè¿™æ ·:</p>
<pre><code class="language-swift">label.animate([
    .fadeIn(),
    .move(byX: 0, y: -50)
])

// We want this animation to run *after* the label animation
button.animate([
    .fadeIn()
])
</code></pre>
<p>å¦‚æœæˆ‘ä»¬ä½¿ç”¨å½“å‰çš„åŠ¨ç”»APIè¿è¡Œä¸Šè¿°ä»£ç ï¼Œè¿™ä¸¤ä¸ªåŠ¨ç”»å°†åŒæ—¶æ‰§è¡Œï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥å¦ä¸€ä¸ªå¯ä»¥æ’åºåŠ¨ç”»çš„å›¾å±‚ï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸€ä¸ªå•ç‹¬çš„è§†å›¾çº§åˆ«ã€‚</p>
<h2 id="adding-a-top-level-function">Adding a top level function</h2>
<p>è§£å†³ä¸Šè¿°é—®é¢˜çš„ä¸€ç§æ–¹æ³•æ˜¯åœ¨å¼€å§‹åŠ¨ç”»æ—¶æ·»åŠ ä¸€ä¸ªé€‰é¡¹æ¥ä¼ é€’ä¸€ä¸ªå®Œæˆå¤„ç†ç¨‹åºï¼Œç„¶ååœ¨é‚£ä¸ªå¤„ç†å™¨ä¸­æ‰§è¡Œç¬¬äºŒä¸ªï¼Œåƒè¿™æ ·:</p>
<pre><code class="language-swift">label.animate([
    .fadeIn(),
    .move(byX: 0, y: -50)
], completionHandler: {
    button.animate([
        .fadeIn()
    ])
})
</code></pre>
<p>ä¸Šè¿°æ–¹æ³•é€‚ç”¨äºå¤§å¤šæ•°iOSå¼€å‘è€…ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ç§éå¸¸æ™®éçš„æ¨¡å¼ã€‚ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬é‡‡ç”¨é‚£ä¸ªè§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬å°±ä¼šå¤±å»åŠ¨ç”»æ¡†æ¶çš„ä¸€äº›å£°æ˜æ€§ç‰¹å¾ã€‚åµŒå¥—é—­åŒ…æ­£æ˜¯æˆ‘ä»¬è¦é¿å…çš„ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬ä»ç„¶èƒ½å¤Ÿå®ç°è¿™ä¸ªç›®æ ‡ï¼Œé‚£å°±å¤ªå¥½äº†ï¼Œå³ä½¿æ·»åŠ äº†è¿™ä¸ªæ–°åŠŸèƒ½ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬è¦åšçš„ï¼Œå°±æ˜¯æ·»åŠ ä¸€ä¸ªé¡¶å±‚å‡½æ•°ï¼Œå®ƒå¯ä»¥ç”¨æ¥åŒ…è£…åœ¨ä¸åŒè§†å›¾ä¸Šå¯¹animate()çš„å¤šä¸ªè°ƒç”¨ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å†™è¿™æ ·çš„ä»£ç :</p>
<pre><code class="language-swift">animate([
    label.animate([
        .fadeIn(),
        .move(byX: 0, y: -50)
    ]),
    button.animate([
        .fadeIn()
    ])
])
</code></pre>
<p>ä¸€ä¸ªæŒ‘æˆ˜æ˜¯ç¡®ä¿æŒ‰é’®çš„åŠ¨ç”»ç›´åˆ°æ ‡ç­¾çš„åŠ¨ç”»å®Œæˆåæ‰å¼€å§‹ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å¼•å…¥ä¸€ä¸ªæ–°çš„APIæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå«åšwaitThenAnimate()æˆ–è€…åˆ«çš„ä»€ä¹ˆï¼Œä½†è¿™ä¼¼ä¹ä¸æ˜¯å¾ˆä¼˜é›…ï¼Œè€Œä¸”éœ€è¦æˆ‘ä»¬ä¸æ–­æ”¹å˜è°ƒç”¨çš„APIï¼Œè¿™å–å†³äºæˆ‘ä»¬æƒ³è¦åŠ¨ç”»çš„ä¸Šä¸‹æ–‡â€”â€”è¿™ä¸æ˜¯å¾ˆå¥½ã€‚</p>
<h2 id="tokens">Tokens</h2>
<p>ç›¸åï¼Œæˆ‘ä»¬å°†ä½¿ç”¨åŸºäºä»¤ç‰Œçš„æŠ€æœ¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ¯æ¬¡è°ƒç”¨animate()éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªAnimationTokenï¼Œè¿™å°†ç”¨äºç›´æ¥æ‰§è¡ŒåŠ¨ç”»ï¼Œæˆ–åœ¨ä»»ä½•æœªå†³åŠ¨ç”»ä¹‹åã€‚ æˆ‘ä»¬å¯ä»¥åœ¨tokenè¢«é‡Šæ”¾åè§¦å‘åŠ¨ç”»ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<pre><code class="language-swift">public final class AnimationToken {
    deinit {
        // Perform animation
    }
}
</code></pre>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®©é¡¶çº§çš„animate()å‡½æ•°ä¿å­˜æ¯ä¸ªä»¤ç‰Œï¼Œç›´åˆ°æ‰§è¡ŒåŠ¨ç”»ä¸ºæ­¢ï¼Œå½“ä¸€ä¸ªåŠ¨ç”»åœ¨æ²¡æœ‰é¡¶çº§å‡½æ•°çš„æƒ…å†µä¸‹æ‰§è¡Œæ—¶ï¼Œä»¤ç‰Œå°†ç«‹å³è¢«é‡Šæ”¾ï¼Œä»è€Œå¯¼è‡´åŠ¨ç”»çš„æ‰§è¡Œæ²¡æœ‰ä»»ä½•å»¶è¿Ÿã€‚</p>
<p>è®©æˆ‘ä»¬å®ç°AnimationTokenï¼Œå®ƒå°†ä¿å­˜ä¸€ä¸ªå¯¹UIViewå’Œå®ƒæ‰€å¯¹åº”çš„[Animations]çš„å¼•ç”¨ã€‚æˆ‘ä»¬è¿˜å°†æ·»åŠ åœ¨æ‰§è¡ŒåŠ¨ç”»æ—¶å†…éƒ¨ä¼ é€’å®Œæˆå¤„ç†ç¨‹åºçš„èƒ½åŠ›ï¼Œç¨åæˆ‘ä»¬å°†åœ¨å®é™…çš„æ’åºä¸­ä½¿ç”¨å®ƒã€‚</p>
<pre><code class="language-swift">// We add an enum to describe in which mode we want to animate
internal enum AnimationMode {
    case inSequence
    case inParallel
}

public final class AnimationToken {
    private let view: UIView
    private let animations: [Animation]
    private let mode: AnimationMode
    private var isValid = true

    // We don't want the API user to think that they should create tokens
    // themselves, so we make the initializer internal to the framework
    internal init(view: UIView, animations: [Animation], mode: AnimationMode) {
        self.view = view
        self.animations = animations
        self.mode = mode
    }

    deinit {
        // Automatically perform the animations when the token gets deallocated
        perform {}
    }

    internal func perform(completionHandler: @escaping () -&gt; Void) {
        // To prevent the animation from being executed twice, we invalidate
        // the token once its animation has been performed
        guard isValid else {
            return
        }

        isValid = false

        switch mode {
        case .inSequence:
            view.performAnimations(animations,
                                   completionHandler: completionHandler)
        case .inParallel:
            view.performAnimationsInParallel(animations, 
                                             completionHandler: completionHandler)
        }
    }
}
</code></pre>
<p>æ­£å¦‚ä½ åœ¨ä¸Šé¢çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬åœ¨UIViewä¸Šè°ƒç”¨ä¸¤ä¸ªæ–°æ–¹æ³•;performAnimations()å’ŒperformAnimationsInParallel()ã€‚æˆ‘ä»¬è¦ä»‹ç»è¿™äº›çš„åŸå› æ˜¯æˆ‘ä»¬ä¸Šå‘¨æ·»åŠ çš„åŠ¨ç”»æ–¹æ³•ç°åœ¨ä¼šè¿”å›ä¸€ä¸ªAnimationTokenï¼Œè€Œä¸æ˜¯å®é™…æ‰§è¡ŒåŠ¨ç”»ã€‚</p>
<p>è®©æˆ‘ä»¬ä»é‡æ„ä¹‹å‰çš„æ–¹æ³•å¼€å§‹:</p>
<pre><code class="language-swift">public extension UIView {
    @discardableResult func animate(_ animations: [Animation]) -&gt; AnimationToken {
        return AnimationToken(
            view: self,
            animations: animations,
            mode: .inSequence
        )
    }

    @discardableResult func animate(inParallel animations: [Animation]) -&gt; AnimationToken {
        return AnimationToken(
            view: self,
            animations: animations,
            mode: .inParallel
        )
    }
}
</code></pre>
<p>å¦‚ä¸Šæ‰€ç¤ºï¼Œ@discardableResultå±æ€§å·²ç»æ·»åŠ åˆ°animate()æ–¹æ³•ä¸­ã€‚è¿™æ ·ï¼Œå½“APIç”¨æˆ·åœ¨æ–°çš„é¡¶çº§å‡½æ•°ä¹‹å¤–è°ƒç”¨è¿™äº›å‡½æ•°æ—¶ï¼Œå°±ä¸ä¼šå¾—åˆ°è­¦å‘Šï¼Œè¿™å°†å¯¼è‡´ä»¤ç‰Œç«‹å³è¢«ä¸¢å¼ƒã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬å°†ä»¥å‰çš„æ–¹æ³•çš„å®ç°ç§»åŠ¨åˆ°æ–°çš„æ–¹æ³•ä¸­(å°†æ‰§è¡ŒåŠ¨ç”»)ï¼Œå¹¶æ·»åŠ å¯¹completionHandlerå‚æ•°çš„æ”¯æŒ:</p>
<pre><code class="language-swift">internal extension UIView {
    func performAnimations(_ animations: [Animation], completionHandler: @escaping () -&gt; Void) {
        // This implementation is exactly the same as before, only now we call
        // the completion handler when our exit condition is hit
        guard !animations.isEmpty else {
            return completionHandler()
        }

        var animations = animations
        let animation = animations.removeFirst()

        UIView.animate(withDuration: animation.duration, animations: {
            animation.closure(self)
        }, completion: { _ in
            self.performAnimations(animations, completionHandler: completionHandler)
        })
    }

    func performAnimationsInParallel(_ animations: [Animation], completionHandler: @escaping () -&gt; Void) {
        // If we have no animations, we can exit early
        guard !animations.isEmpty else {
            return completionHandler()
        }

        // In order to call the completion handler once all animations
        // have finished, we need to keep track of these counts
        let animationCount = animations.count
        var completionCount = 0

        let animationCompletionHandler = {
            completionCount += 1

            // Once all animations have finished, we call the completion handler
            if completionCount == animationCount {
                completionHandler()
            }
        }

        // Same as before, only with the call to the animation
        // completion handler added
        for animation in animations {
            UIView.animate(withDuration: animation.duration, animations: {
                animation.closure(self)
            }, completion: { _ in
                animationCompletionHandler()
            })
        }
    }
}
</code></pre>
<h2 id="putting-all-the-pieces-together">Putting all the pieces together</h2>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»ä¸ºå®ç°æ–°çš„é¡¶çº§animate()å‡½æ•°å¥ å®šäº†æ‰€æœ‰çš„åŸºç¡€ï¼Œè¿™ä¸ªå‡½æ•°å®é™…ä¸Šéå¸¸ç®€å•ã€‚ å°±åƒå½“æˆ‘ä»¬æ‰§è¡Œä¸€ä¸ªåŠ¨ç”»åºåˆ—æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦å®šä¹‰ä¸€ä¸ªé€€å‡ºæ¡ä»¶(ä½¿ç”¨ä¸€ä¸ªguardè¯­å¥)ï¼Œ é€’å½’åœ°è°ƒç”¨å‡½æ•°ï¼Œç›´åˆ°æ‰€æœ‰åŠ¨ç”»éƒ½æ‰§è¡Œå®Œæ¯•:</p>
<pre><code class="language-swift">public func animate(_ tokens: [AnimationToken]) {
    guard !tokens.isEmpty else {
        return
    }

    var tokens = tokens
    let token = tokens.removeFirst()

    token.perform {
        animate(tokens)
    }
}
</code></pre>
<h2 id="taking-our-new-feature-for-a-spin">Taking our new feature for a spin</h2>
<p>å¥½äº†ï¼Œè®©æˆ‘ä»¬è¯•è¯•æˆ‘ä»¬çš„æ–°åŠŸèƒ½â€”â€”åè°ƒå¤šä¸ªè§†å›¾åŠ¨ç”»ï¼Œæ‰€æœ‰è¿™äº›éƒ½ä¸éœ€è¦åµŒå¥—é—­åŒ…!ğŸ‰</p>
<p>ä¸Šå‘¨ï¼Œæˆ‘ä»¬ä½¿ç”¨çº¢è‰²çŸ©å½¢æ¥æµ‹è¯•æˆ‘ä»¬çš„APIã€‚è™½ç„¶è¿™æ ·åšäº†ï¼Œä½†æœ‰ç‚¹æ— èŠï¼Œæ‰€ä»¥è®©æˆ‘ä»¬æ·»åŠ ä¸€äº›é€‚å½“çš„è§†å›¾æ¥ä»£æ›¿åŠ¨ç”»:</p>
<pre><code class="language-swift">let label = UILabel()
label.text = &quot;Let's animate...&quot;
label.sizeToFit()
label.center = view.center
label.alpha = 0
view.addSubview(label)

let button = UIButton(type: .system)
button.setTitle(&quot;...multiple views!&quot;, for: .normal)
button.sizeToFit()
button.center.x = view.center.x
button.center.y = label.frame.maxY + 50
button.alpha = 0
view.addSubview(button)


è®©æˆ‘ä»¬æ‰§è¡Œæˆ‘ä»¬æœ€åˆè®¾å®šçš„åŠ¨ç”»!ğŸš€

animate([
    label.animate([
        .fadeIn(duration: 3),
        .move(byX: 0, y: -50, duration: 3)
    ]),
    button.animate([
        .fadeIn(duration: 3)
    ])
])
</code></pre>
<p>æˆ‘å°†æ¯ä¸€æ­¥çš„åŠ¨ç”»æŒç»­æ—¶é—´è®¾ç½®ä¸º3ç§’ï¼Œä»¥ä¾¿èƒ½å¤Ÿå¾ˆå®¹æ˜“åœ°çœ‹åˆ°æ“åœºä¸Šå‘ç”Ÿäº†ä»€ä¹ˆã€‚</p>
<h2 id="adding-a-spoonful-of-sugar">Adding a spoonful of sugar</h2>
<p>å¥½äº†ï¼Œç°åœ¨åˆ°äº†å¥–é‡‘ç¯èŠ‚!  å½“æˆ‘ä»¬è°ƒç”¨ä¸Šé¢æ–°çš„é¡¶çº§animate()å‡½æ•°æ—¶ï¼Œä½ å¯èƒ½ä¼šæ³¨æ„åˆ°ä¸€ä»¶äº‹ï¼Œ æˆ‘ä»¬å¿…é¡»æ·»åŠ å¤§é‡çš„è¯­æ³•ï¼Œç‰¹åˆ«æ˜¯ä½¿ç”¨æ‰€æœ‰çš„æ•°ç»„å­—é¢é‡([])ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å‡å°‘è¿™ç§æƒ…å†µçš„ä¸€ç§æ–¹æ³•æ˜¯ï¼Œæä¾›æ¥å—å¯å˜æ•°é‡å‚æ•°çš„apiï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚ è¿™æ ·ï¼Œç¼–è¯‘å™¨å°±å¯ä»¥æ ¹æ®å®å‚è‡ªåŠ¨æ„é€ æ•°ç»„ï¼Œè¯­æ³•æ›´åŠ ç®€æ´:</p>
<pre><code class="language-swift">animate(
    label.animate(
        .fadeIn(duration: 3),
        .move(byX: 0, y: -50, duration: 3)
    ),
    button.animate(.fadeIn(duration: 3))
)
</code></pre>
<p>è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨å‰é¢çš„æ•°ç»„æ¥å—å®ç°ä¸­æ·»åŠ å‰ä¼ é‡è½½:</p>
<pre><code class="language-swift">public func animate(_ tokens: AnimationToken...) {
    animate(tokens)
}

public extension UIView {
    @discardableResult func animate(_ animations: Animation...) -&gt; AnimationToken {
        return animate(animations)
    }

    @discardableResult func animate(inParallel animations: Animation...) -&gt; AnimationToken {
        return animate(inParallel: animations)
    }
}
</code></pre>
<h2 id="conclusion">Conclusion</h2>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰äº†ä¸€ä¸ªå£°æ˜å¼åŠ¨ç”»æ¡†æ¶ï¼Œæ—¢å¯ä»¥ä¸ºå•ä¸ªè§†å›¾æ‰§è¡ŒåŠ¨ç”»ï¼Œä¹Ÿå¯ä»¥ä¸ºå¤šä¸ªè§†å›¾æ‰§è¡ŒåŠ¨ç”»ğŸ‰</p>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å‘è¿™ä¸ªæ¡†æ¶æ·»åŠ æ›´å¤šçš„ç‰¹æ€§ï¼Œä»¥ä½¿å®ƒæ›´æœ‰èƒ½åŠ›ï¼Œå¹¶å¤„ç†æ›´å¤šçš„ç”¨ä¾‹.(æ¯”å¦‚èƒ½å¤Ÿä½¿ç”¨åºåˆ—å’Œå¹¶è¡ŒåŠ¨ç”»åµŒå¥—å¤šä¸ªé¡¶çº§animate()è°ƒç”¨)ï¼Œ ä½†æˆ‘è®¤ä¸ºæˆ‘ä»¬æœ‰äº†ä¸€ä¸ªè‰¯å¥½çš„å¼€ç«¯ã€‚</p>
<p>ä½ å¯ä»¥æ‰¾åˆ°è¿™ç¯‡æ–‡ç« çš„æ‰€æœ‰ä»£ç (ç»“åˆä¸Šä¸€ç¯‡æ–‡ç« çš„å†…å®¹)åœ¨è¿™ä¸ªåˆ†æ”¯çš„åŠ¨ç”»repoã€‚æˆ‘è¿˜ä¼šç»§ç»­åœ¨masterä¸Šå¼€å‘è¿™ä¸ªæ¡†æ¶ï¼Œæ‰€ä»¥ä½ å¯ä»¥ç”¨pull requestsæ¥è´¡çŒ®å®ƒï¼Œæˆ–è€…æ ¹æ®è¿™ä¸¤ç¯‡åšæ–‡çš„æƒ³æ³•åˆ›å»ºä½ è‡ªå·±çš„æ¡†æ¶å’Œå·¥å…·ã€‚</p>
<p><a href="https://www.swiftbysundell.com/articles/building-a-declarative-animation-framework-in-swift-part-2/">åŸæ–‡é“¾æ¥</a></p>
<p><a href="https://github.com/JohnSundell/Animate/blob/post2/Animate.playground/Contents.swift">ä»£ç åœ°å€</a></p>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://kayouyou.github.io/tag/l12eWlxBe/" class="tag">
                    declarative programming
                  </a>
                
                  <a href="https://kayouyou.github.io/tag/nk7gw0vRGQ/" class="tag">
                    animations
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">ä¸‹ä¸€ç¯‡</div>
                <a href="https://kayouyou.github.io/post/building-a-declarative-animation-framework-in-swift part-1/">
                  <h3 class="post-title">
                    Building a declarative animation framework in Swift - Part 1
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>


  <script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.6.0/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad()
  </script>





  </body>
</html>
